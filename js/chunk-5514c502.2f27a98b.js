(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5514c502"],{"59a6":function(e,t,a){"use strict";a("c947")},"846a":function(e,t,a){"use strict";a.r(t);var i=a("8336"),s=a("99d9"),d=a("8fea"),n=a("891e"),o=(a("14d9"),a("ade3")),r=a("677a"),l=new class{constructor(){Object(o.a)(this,"BASE_URL","admin/department/")}findAll(e,t,a=null){return r.a.doHttp(this.BASE_URL+"findAll","get",{page:e,pageSize:t,field:a})}find(e,t=null){return r.a.doHttp(this.BASE_URL+"find","get",{id:e,field:t})}create(e){return delete e.id,r.a.doHttp(this.BASE_URL+"create","post",e)}update(e){return r.a.doHttp(this.BASE_URL+"update","post",e)}delete(e){return r.a.doHttp(this.BASE_URL+"delete","post",{id:e})}},c={name:"Department",components:{},data:()=>({headers:[{text:"ID",value:"id",align:"center"},{text:"部门名称",value:"name",align:"center"},{text:"部门英文名",value:"name_en",align:"center"},{text:"父部门",value:"parentid",align:"center"},{text:"排序",value:"order",align:"center"}],items:[],pageConfig:{page:1,pageCount:1,totalDesserts:1},searchData:"",editedIndex:0,deleteDialogs:!1,editedDialogs:!1,editedData:{id:-1,store_name:"",store_key:"",meituan_cookie:"",store_cost:0,other:""}}),created(){this.refresh()},mounted(){},methods:{refresh(){this.findAll()},newCreate(){this.editedIndex=-1,this.editedData={id:-1,store_name:"",store_key:"",meituan_cookie:"",store_cost:0,other:""},this.editedDialogs=!0},find(e={}){this.editedIndex=this.items.indexOf(e),l.find(this.items[this.editedIndex].id).then(e=>{this.editedData=e.data,this.editedDialogs=!0})},findAll(e=1,t=10){l.findAll(e,t).then(e=>{this.items=e.data.data,this.pageConfig={page:e.data.current_page,pageCount:e.data.last_page,totalDesserts:e.data.total}})},chickPage(e){this.findAll(e)},submit(){this.editedIndex>=0?l.update(this.editedData).then(e=>{Object.assign(this.items[this.editedIndex],e.data),this.editedDialogs=!1,this.$store.commit("snackBarShow",{message:"保存成功",color:"success"})}):l.create(this.editedData).then(e=>{this.items.push(e.data),this.editedDialogs=!1,this.$store.commit("snackBarShow",{message:"保存成功",color:"success"})})},doDelete(){l.delete(this.items[this.editedIndex].id).then(()=>{this.deleteDialogs=!1,this.items.splice(this.editedIndex,1),this.$store.commit("snackBarShow",{message:"删除成功",color:"success"})})},updateFromWorkWeChat(){}}},h=(a("59a6"),a("2877")),g=Object(h.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex flex-column",attrs:{id:"Department"}},[t(d.a,{attrs:{headers:e.headers,items:e.items,page:e.pageConfig.page,"server-items-length":e.pageConfig.totalDesserts,"hide-default-footer":""},on:{"update:page":function(t){return e.$set(e.pageConfig,"page",t)},"page-count":function(t){e.pageConfig.pageCount=t}},scopedSlots:e._u([{key:"top",fn:function(){return[t(s.c,[t("div",[t(i.a,{staticClass:"mr-5",attrs:{color:"info"},on:{click:e.refresh}},[e._v("刷新")])],1)])]},proxy:!0}])}),t("div",{staticClass:"mt-auto mb-10"},[t(n.a,{attrs:{length:e.pageConfig.pageCount},on:{input:e.chickPage},model:{value:e.pageConfig.page,callback:function(t){e.$set(e.pageConfig,"page",t)},expression:"pageConfig.page"}})],1)],1)}),[],!1,null,"315939b6",null);t.default=g.exports},c947:function(e,t,a){}}]);
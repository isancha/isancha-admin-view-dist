(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e322395a"],{"0502":function(t,e,a){"use strict";var s=a("ade3"),i=a("677a");e.a=new class{constructor(){Object(s.a)(this,"BASE_URL","admin/SharesStore/")}findAll(t,e,a=null){return i.a.doHttp(this.BASE_URL+"findAll","get",{page:t,pageSize:e,field:a})}find(t,e=null){return i.a.doHttp(this.BASE_URL+"find","get",{id:t,field:e})}create(t){return delete t.id,i.a.doHttp(this.BASE_URL+"create","post",t)}update(t){return i.a.doHttp(this.BASE_URL+"update","post",t)}delete(t){return i.a.doHttp(this.BASE_URL+"delete","post",{id:t})}}},1681:function(t,e,a){},5426:function(t,e,a){"use strict";var s=a("ade3"),i=a("677a");e.a=new class{constructor(){Object(s.a)(this,"BASE_URL","admin/SharesUser/")}findAll(t,e,a=null){return i.a.doHttp(this.BASE_URL+"findAll","get",{page:t,pageSize:e,field:a})}find(t,e=null){return i.a.doHttp(this.BASE_URL+"find","get",{id:t,field:e})}create(t){return delete t.id,i.a.doHttp(this.BASE_URL+"create","post",t)}update(t){return i.a.doHttp(this.BASE_URL+"update","post",t)}delete(t){return i.a.doHttp(this.BASE_URL+"delete","post",{id:t})}}},"788f":function(t,e,a){"use strict";a.r(e);var s=a("8336"),i=a("b0af"),d=a("99d9"),r=a("62ad"),n=a("8fea"),o=a("2e4b"),l=a("169a"),c=a("132d"),u=a("891e"),h=a("0fd9"),p=a("b974"),g=a("2fa4"),f=a("8654"),m=a("a844"),_=(a("14d9"),a("ade3")),v=a("677a"),D=new class{constructor(){Object(_.a)(this,"BASE_URL","admin/SharesUserConfig/")}findAll(t,e,a=null){return v.a.doHttp(this.BASE_URL+"findAll","get",{page:t,pageSize:e,field:a})}find(t,e=null){return v.a.doHttp(this.BASE_URL+"find","get",{id:t,field:e})}create(t){return delete t.id,v.a.doHttp(this.BASE_URL+"create","post",t)}update(t){return v.a.doHttp(this.BASE_URL+"update","post",t)}delete(t){return v.a.doHttp(this.BASE_URL+"delete","post",{id:t})}},x=a("0502"),k=a("5426"),w={name:"SharesUserConfig",components:{},data:()=>({headers:[{text:"ID",value:"id",align:"center"},{text:"用户名",value:"user.username",align:"center"},{text:"店铺",value:"store.store_name",align:"center"},{text:"股份数量",value:"shares",align:"center"},{text:"开始时间",value:"start_date",align:"center"},{text:"备注",value:"other",align:"center"},{text:"最后更新时间",value:"update_time",align:"center"},{text:"操作",value:"action",align:"center"}],items:[],pageConfig:{page:1,pageCount:1,totalDesserts:1},searchData:"",editedIndex:0,deleteDialogs:!1,editedDialogs:!1,datePickerDialogs:!1,editedData:{id:-1,shares_user_id:-1,store_id:-1,shares:0,start_date:(new Date).format("yyyy-MM-dd hh:mm:ss"),other:""},storeList:[{id:0,store:{store_name:""},store_id:1}],userList:[{id:0,username:null}]}),created(){this.refresh()},mounted(){},methods:{refresh(){this.getStoreList(),this.getUserList(),this.findAll()},newCreate(){this.editedIndex=-1,this.editedData={id:-1,shares_user_id:-1,store_id:-1,shares:0,start_date:(new Date).format("yyyy-MM-dd hh:mm:ss"),other:""},this.editedDialogs=!0},find(t={}){this.editedIndex=this.items.indexOf(t),D.find(this.items[this.editedIndex].id).then(t=>{this.editedData=t.data,this.editedDialogs=!0})},findAll(t=1,e=10){D.findAll(t,e).then(t=>{this.items=t.data.data,this.pageConfig={page:t.data.current_page,pageCount:t.data.last_page,totalDesserts:t.data.total}})},chickPage(t){this.findAll(t)},submit(){this.editedIndex>=0?D.update(this.editedData).then(t=>{Object.assign(this.items[this.editedIndex],t.data),this.editedDialogs=!1,this.$store.commit("snackBarShow",{message:"保存成功",color:"success"})}):D.create(this.editedData).then(t=>{this.items.push(t.data),this.editedDialogs=!1,this.$store.commit("snackBarShow",{message:"保存成功",color:"success"})})},doDelete(){D.delete(this.items[this.editedIndex].id).then(()=>{this.deleteDialogs=!1,this.items.splice(this.editedIndex,1),this.$store.commit("snackBarShow",{message:"删除成功",color:"success"})})},getStoreList(){x.a.findAll(1,9999,"id,store_id").then(t=>{this.storeList=t.data.data})},getUserList(){k.a.findAll(1,9999,"id,username").then(t=>{this.userList=t.data.data})}}},b=(a("ef52"),a("2877")),C=Object(b.a)(w,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column",attrs:{id:"SharesUserConfig"}},[e(n.a,{attrs:{headers:t.headers,items:t.items,page:t.pageConfig.page,"server-items-length":t.pageConfig.totalDesserts,"hide-default-footer":""},on:{"update:page":function(e){return t.$set(t.pageConfig,"page",e)},"page-count":function(e){t.pageConfig.pageCount=e}},scopedSlots:t._u([{key:"top",fn:function(){return[e(d.c,[e("div",[e(s.a,{staticClass:"mr-5",attrs:{color:"success"},on:{click:t.newCreate}},[t._v("新增")]),e(s.a,{staticClass:"mr-5",attrs:{color:"info"},on:{click:t.refresh}},[t._v("刷新")])],1)])]},proxy:!0},{key:"item.action",fn:function({item:a}){return[e(s.a,{staticClass:"mr-2",attrs:{icon:""}},[e(c.a,{attrs:{small:""},on:{click:function(e){return t.find(a)}}},[t._v(" mdi-pencil ")])],1),e(s.a,{staticClass:"mr-2",attrs:{icon:""}},[e(c.a,{attrs:{small:""},on:{click:function(e){t.editedIndex=t.items.indexOf(a),t.deleteDialogs=!0}}},[t._v(" mdi-delete ")])],1)]}}])}),e("div",{staticClass:"mt-auto mb-10"},[e(u.a,{attrs:{length:t.pageConfig.pageCount},on:{input:t.chickPage},model:{value:t.pageConfig.page,callback:function(e){t.$set(t.pageConfig,"page",e)},expression:"pageConfig.page"}})],1),e("div",[e(l.a,{attrs:{persistent:"",width:"300px"},model:{value:t.deleteDialogs,callback:function(e){t.deleteDialogs=e},expression:"deleteDialogs"}},[e(i.a,[e(d.c,[t._v(" 提示 ")]),e(d.b,[t._v(" 确定要删除么 ")]),e(d.a,{staticClass:"d-flex justify-end"},[e(s.a,{staticClass:"mr-3",attrs:{color:"info"},on:{click:t.doDelete}},[t._v("确定")]),e(s.a,{on:{click:function(e){t.deleteDialogs=!1}}},[t._v("取消")])],1)],1)],1),e(l.a,{attrs:{persistent:"",width:"700"},model:{value:t.editedDialogs,callback:function(e){t.editedDialogs=e},expression:"editedDialogs"}},[e(i.a,[e(d.c,[t._v(" 详细信息 ")]),e(d.b,[e(h.a,[e(r.a,{staticClass:"d-flex align-center",attrs:{cols:"1"}},[e("div",[t._v("ID")])]),e(r.a,{attrs:{cols:"5"}},[e(f.a,{attrs:{dense:"",disabled:"","hide-details":"",outlined:""},model:{value:t.editedData.id,callback:function(e){t.$set(t.editedData,"id",e)},expression:"editedData.id"}})],1)],1),e(h.a,[e(r.a,{staticClass:"d-flex align-center",attrs:{cols:"1"}},[e("div",[t._v("股东")])]),e(r.a,{attrs:{cols:"5"}},[e(p.a,{attrs:{items:t.userList,dense:"","hide-details":"","item-text":"username","item-value":"id",outlined:"",placeholder:"选择股东"},model:{value:t.editedData.shares_user_id,callback:function(e){t.$set(t.editedData,"shares_user_id",e)},expression:"editedData.shares_user_id"}})],1),e(r.a,{staticClass:"d-flex align-center",attrs:{cols:"1"}},[e("div",[t._v("店铺")])]),e(r.a,{attrs:{cols:"5"}},[e(p.a,{attrs:{items:t.storeList,dense:"","hide-details":"","item-text":"store.store_name","item-value":"store_id",outlined:"",placeholder:"选择店铺"},model:{value:t.editedData.store_id,callback:function(e){t.$set(t.editedData,"store_id",e)},expression:"editedData.store_id"}})],1)],1),e(h.a,[e(r.a,{staticClass:"d-flex align-center",attrs:{cols:"1"}},[e("div",[t._v("股份数量")])]),e(r.a,{attrs:{cols:"5"}},[e(f.a,{attrs:{dense:"","hide-details":"",outlined:"",type:"number"},model:{value:t.editedData.shares,callback:function(e){t.$set(t.editedData,"shares",e)},expression:"editedData.shares"}})],1),e(r.a,{staticClass:"d-flex align-center",attrs:{cols:"1"}},[e("div",[t._v("开始时间")])]),e(r.a,{attrs:{cols:"5"}},[e(l.a,{ref:"dialog",attrs:{"return-value":t.editedData.start_date,persistent:"",width:"290px"},on:{"update:returnValue":function(e){return t.$set(t.editedData,"start_date",e)},"update:return-value":function(e){return t.$set(t.editedData,"start_date",e)}},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(f.a,t._g(t._b({attrs:{dense:"","hide-details":"",outlined:"",readonly:""},model:{value:t.editedData.start_date,callback:function(e){t.$set(t.editedData,"start_date",e)},expression:"editedData.start_date"}},"v-text-field",s,!1),a))]}}]),model:{value:t.datePickerDialogs,callback:function(e){t.datePickerDialogs=e},expression:"datePickerDialogs"}},[e(o.a,{attrs:{scrollable:""},model:{value:t.editedData.start_date,callback:function(e){t.$set(t.editedData,"start_date",e)},expression:"editedData.start_date"}},[e(g.a),e(s.a,{attrs:{color:"primary",text:""},on:{click:function(e){t.datePickerDialogs=!1}}},[t._v(" 取消 ")]),e(s.a,{attrs:{color:"primary",text:""},on:{click:function(e){return t.$refs.dialog.save(t.editedData.start_date)}}},[t._v(" 确定 ")])],1)],1)],1)],1),e(h.a,[e(r.a,{staticClass:"d-flex align-center",attrs:{cols:"1"}},[e("div",[t._v("备注")])]),e(r.a,{attrs:{cols:"5"}},[e(m.a,{attrs:{"clear-icon":"mdi-close-circle",clearable:"",dense:"","hide-details":"","no-resize":"",outlined:""},model:{value:t.editedData.other,callback:function(e){t.$set(t.editedData,"other",e)},expression:"editedData.other"}})],1)],1)],1),e(d.a,{staticClass:"d-flex justify-end"},[e(s.a,{staticClass:"mr-3",attrs:{color:"info"},on:{click:t.submit}},[t._v("确定")]),e(s.a,{on:{click:function(e){t.editedDialogs=!1}}},[t._v("取消")])],1)],1)],1)],1)],1)}),[],!1,null,"7d365308",null);e.default=C.exports},a844:function(t,e,a){"use strict";a("1681");var s=a("8654"),i=a("58df");const d=Object(i.a)(s.a);e.a=d.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...s.a.options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(t){this.$nextTick(()=>{var e;t?this.calculateInputHeight():null===(e=this.$refs.input)||void 0===e||e.style.removeProperty("height")})},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout(()=>{this.autoGrow&&this.calculateInputHeight()},0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"},genInput(){const t=s.a.options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){s.a.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},be5e:function(t,e,a){},ef52:function(t,e,a){"use strict";a("be5e")}}]);